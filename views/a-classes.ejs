<!doctype html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../stylesheet.css" />
    <title>Admin Classes</title>
</head>

<header>
    <%- include('z-a-nav') %>
</header>

<body class="bg-warning">
    <h2 class="text-center">Course List</h2>
    <div class="row">
        <div class="col-12">

            <div class="Course-list-preview">
                <table class="table"id="courseListTable">
                    <col style="width:10%">
	<col style="width:15%">
	<col style="width:15%">
    <col style="width:15%">
    <col style="width:15%">
    <col style="width:40%">
                    <caption>Courses</caption>
                    <tr>
                        <th>Course subject</th>
                        <th>Course number</th>
                        <th>Course Name</th>
                        <th>Course Term</th>
                        <th>Course Instructor</th>
                        <th class="text-center">Course Roster</th>
                    </tr>


                    <!--Populate table based on javascript student course reply from database -->
                </table>

            </div>
        </div>
    </div>








    <script src="ejs.min.js">  </script>

    <script>
              let allCourses = <%-JSON.stringify(theCourses)%>;
               // JSON.parse(allCourses);
                console.log('course object client side: ' + allCourses);
              
                console.log('Checking how to grab specific elements '+ allCourses[0].name)
             
                let counter=0;
                let whereToAdd=document.getElementById('courseListTable')
             
              allCourses.forEach(element => {
                let whatToadd = document.createElement("tr");
               // whatToadd.setAttribute('id',`row ${counter}`)


                
                
                     
                     let sub= whatToadd.insertCell(0);
                     let num=whatToadd.insertCell(1);
                     let nam=whatToadd.insertCell(2);
                     let term=whatToadd.insertCell(3);
                     let instuct=whatToadd.insertCell(4);
                     let rost=whatToadd.insertCell(5);


                      sub.innerHTML=element.subject;
                      num.innerHTML=element.iD;
                      nam.innerHTML=element.name;
                      term.innerHTML=element.term;

                      
                      let instructList='';
                      let rosterList='';
                      for(let i=0;i<element.instructors.length;i++)
                      {
                       instuctList=instuctList+element.instuct[i]+"\n";
                      }

                      for(let i=0;i<element.roster.length;i++)
                      {
                       rosterList=rosterList+element.roster[i]+"\n";
                      }
                  
                      instuct.innerHTML=instructList;
                      rost.innerHTML=rosterList;
                   

                      whereToAdd.appendChild(whatToadd);
                     
                    counter++;

              });
            
         
        
        
    </script>
</body>
<footer>

</footer>

</html>